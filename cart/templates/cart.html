{% extends "base.html" %}

{% block title %}Cart{% endblock  %}

{% block content %}
    <h1 class="text-center mt-3 mb-3 fw-bold">Cart</h1>
    {% if cart %}
        {% for seller, items in grouped_items.items %}
            <div class="bg-white p-3 rounded shadow-sm mb-3">
                    <h5 class="fw-bold ms-2">{{seller}}</h5>          
                    {% for cart_item in items %}
                        <a href="{% url "item:detail" cart_item.item.id %}" class="d-flex mb-3 bg-secondary-subtle shadow-sm rounded pt-3 ps-3 pb-3 text-decoration-none">
                            <div class="d-flex text-dark">
                                <div class="me-3">
                                    <img src="{{ cart_item.item.image.url }}" class="bg-white rounded border" alt="{{ conversation.item.name }}" style="height: 90px; width: 130px; object-fit: contain">
                                </div>
        
                                <div class="w-75">
                                    <h6 class="fw-bold" style=" display: -webkit-box;
                                                                -webkit-line-clamp: 1;
                                                                -webkit-box-orient: vertical;
                                                                overflow: hidden;
                                                                text-overflow: ellipsis;">
                                    {{cart_item.item.name}} {{cart_item.quantity}}</h6>
                                    <p style=" display: -webkit-box;
                                                -webkit-line-clamp: 1;
                                                -webkit-box-orient: vertical;
                                                overflow: hidden;
                                                text-overflow: ellipsis;">
                                    {{ cart_item.item.description }}</p>
                                    <div class="d-flex align-items-center gap-5">
                                        <h5 class="fw-bold text-danger">${{ cart_item.item.price }}</h5>
                                        <p class="h6 text-muted">Quantity: {{cart_item.quantity}}</p>
                                    </div>
                                    
                                </div>
                            </div>
                        </a>
                    {% endfor %}    
            </div> 
        {% endfor %}     
    {% else %}
        <h3 class="fw-bold text-center">No Item Added</h3>
    {% endif %}
{% endblock  %}